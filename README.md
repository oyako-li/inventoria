# Inventoria - åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦åœ¨åº«ã‚’è‡ªå‹•ç®¡ç†ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## æ©Ÿèƒ½

- ğŸ“¦ **åœ¨åº«ç®¡ç†**: å•†å“ã®è¿½åŠ ã€ç·¨é›†ã€å‰Šé™¤
- ğŸ“‹ **å…¥å‡ºåº«ç®¡ç†**: å•†å“ã®å…¥åº«ãƒ»å‡ºåº«è¨˜éŒ²
- ğŸšš **ä»•å…¥å…ˆç®¡ç†**: ä»•å…¥å…ˆæƒ…å ±ã®ç®¡ç†
- ğŸ’° **åæ”¯ç®¡ç†**: æœˆæ¬¡åæ”¯ã®å¯è¦–åŒ–ã¨åˆ†æ
- ğŸ” **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: JWTãƒ™ãƒ¼ã‚¹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- ğŸ‘¥ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **FastAPI**: Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **PostgreSQL**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **SQLAlchemy**: ORM
- **JWT**: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³
- **Passlib**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React**: UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript**: å‹å®‰å…¨ãªé–‹ç™º
- **Vite**: ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- **React Context**: çŠ¶æ…‹ç®¡ç†

### é–‹ç™ºç’°å¢ƒ
- **VS Code Dev Container**: çµ±ä¸€ã•ã‚ŒãŸé–‹ç™ºç’°å¢ƒ
- **Docker**: ã‚³ãƒ³ãƒ†ãƒŠåŒ–
- **uv**: Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†
- **pnpm**: Node.jsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 18ä»¥ä¸Š
- pnpm 8ä»¥ä¸Š
- Python 3.12ä»¥ä¸Š
- uv
- PostgreSQL 15ä»¥ä¸Š

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

#### æ–¹æ³•1: VS Code Dev Containerï¼ˆæ¨å¥¨ï¼‰
```bash
# VS Codeã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
# Ctrl+Shift+P â†’ "Dev Containers: Reopen in Container" ã‚’é¸æŠ
# ã‚³ãƒ³ãƒ†ãƒŠãƒ“ãƒ«ãƒ‰å®Œäº†å¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼š

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm run install:all

# é–‹ç™ºç’°å¢ƒã®èµ·å‹•
./dev-start.sh
```

#### æ–¹æ³•2: è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
make setup-dev

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
make dev
```

#### æ–¹æ³•3: æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install
cd frontend && pnpm install
uv sync

# 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
make migrate

# 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
make dev
```

#### æ–¹æ³•4: Dockerã‚’ä½¿ç”¨
```bash
# Dockeré–‹ç™ºç’°å¢ƒã®èµ·å‹•
make docker-dev
```

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `make dev` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åŒæ™‚èµ·å‹• |
| `make dev-backend` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿èµ·å‹• |
| `make dev-frontend` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿èµ·å‹• |
| `make build` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ãƒ“ãƒ«ãƒ‰ |
| `make test` | ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ |
| `make lint` | ãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°ã‚’å®Ÿè¡Œ |
| `make clean` | ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— |

### Dev Containerã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `./dev-start.sh` | é–‹ç™ºç’°å¢ƒã‚’ä¸€æ‹¬èµ·å‹• |
| `npm run dev` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åŒæ™‚èµ·å‹• |
| `npm run dev:backend` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿èµ·å‹• |
| `npm run dev:frontend` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿èµ·å‹• |

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

é–‹ç™ºç’°å¢ƒç”¨ã®ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** (`env.development`):
```env
DATABASE_URL=postgresql://postgres:password@localhost:5432/inventoria
SECRET_KEY=dev-secret-key-change-in-production
TEAM_ID=dev-team-id
DEBUG=true
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
```

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** (`frontend/env.development`):
```env
VITE_API_URL=http://localhost:8000
VITE_APP_NAME=Inventoria Dev
VITE_DEBUG=true
```

## ä½¿ç”¨æ–¹æ³•

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹
2. æ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ã‹ã€æ—¢å­˜ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
3. åœ¨åº«ç®¡ç†ã€å…¥å‡ºåº«ç®¡ç†ã€ä»•å…¥å…ˆç®¡ç†ã®å„æ©Ÿèƒ½ã‚’ä½¿ç”¨

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### èªè¨¼
- `POST /api/auth/register`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
- `POST /api/auth/login`: ãƒ­ã‚°ã‚¤ãƒ³
- `GET /api/auth/me`: ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

### åœ¨åº«ç®¡ç†
- `GET /inventory/`: åœ¨åº«ä¸€è¦§å–å¾—
- `POST /inventory/`: åœ¨åº«è¿½åŠ 
- `PUT /inventory/{id}`: åœ¨åº«æ›´æ–°
- `DELETE /inventory/{id}`: åœ¨åº«å‰Šé™¤

### ä»•å…¥å…ˆç®¡ç†
- `GET /supplier/`: ä»•å…¥å…ˆä¸€è¦§å–å¾—
- `POST /supplier/`: ä»•å…¥å…ˆè¿½åŠ 
- `PUT /supplier/{id}`: ä»•å…¥å…ˆæ›´æ–°
- `DELETE /supplier/{id}`: ä»•å…¥å…ˆå‰Šé™¤

## é–‹ç™º

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
inventoria/
â”œâ”€â”€ frontend/                 # Reactãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ contexts/        # React Context
â”‚   â”‚   â””â”€â”€ types.ts         # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ models/                  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«
â”‚   â”œâ”€â”€ schemas.py          # SQLAlchemyãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ db.py               # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
â”œâ”€â”€ router/                 # FastAPIãƒ«ãƒ¼ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ auth.py            # èªè¨¼é–¢é€£API
â”‚   â”œâ”€â”€ inventory.py       # åœ¨åº«ç®¡ç†API
â”‚   â””â”€â”€ supplier.py        # ä»•å…¥å…ˆç®¡ç†API
â”œâ”€â”€ pages/                  # Streamlitãƒšãƒ¼ã‚¸
â”œâ”€â”€ main.py                # FastAPIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â””â”€â”€ README.md
```

## Dev Containerè©³ç´°ã‚¬ã‚¤ãƒ‰

### Dev Containerã¨ã¯

VS Code Dev Containerã¯ã€é–‹ç™ºç’°å¢ƒã‚’Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§çµ±ä¸€ã—ã€ãƒãƒ¼ãƒ å…¨ä½“ã§åŒã˜é–‹ç™ºç’°å¢ƒã‚’å…±æœ‰ã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚

### ãƒ¡ãƒªãƒƒãƒˆ

- ğŸ³ **ç’°å¢ƒã®çµ±ä¸€**: å…¨é–‹ç™ºè€…ãŒåŒã˜ç’°å¢ƒã§é–‹ç™º
- ğŸš€ **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ç°¡ç´ åŒ–**: ç’°å¢ƒæ§‹ç¯‰ãŒä¸è¦
- ğŸ”§ **ãƒ„ãƒ¼ãƒ«ã®äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: å¿…è¦ãªãƒ„ãƒ¼ãƒ«ãŒå…¨ã¦æƒã£ã¦ã„ã‚‹
- ğŸ“¦ **ä¾å­˜é–¢ä¿‚ã®ç®¡ç†**: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç«¶åˆã‚’å›é¿

### ä½¿ç”¨æ–¹æ³•

#### 1. åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. VS Codeã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
2. `Ctrl+Shift+P` (macOS: `Cmd+Shift+P`) ã‚’æŠ¼ã™
3. "Dev Containers: Reopen in Container" ã‚’é¸æŠ
4. ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ“ãƒ«ãƒ‰ãŒå®Œäº†ã™ã‚‹ã¾ã§å¾…ã¤ï¼ˆåˆå›ã¯æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ï¼‰

#### 2. é–‹ç™ºç’°å¢ƒã®èµ·å‹•

Dev Containerå†…ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼š

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆåˆå›ã®ã¿ï¼‰
npm run install:all

# é–‹ç™ºç’°å¢ƒã®èµ·å‹•
./.devcontainer/start-dev.sh
```

#### 3. ã‚¢ã‚¯ã‚»ã‚¹

- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:8000
- **API Documentation**: http://localhost:8000/docs
- **Database**: localhost:5431

### å«ã¾ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«

- **Python 3.12** with uv package manager
- **Node.js 18** with pnpm
- **PostgreSQL 15**
- **Git**
- **é–‹ç™ºç”¨ã‚¨ãƒ‡ã‚£ã‚¿æ‹¡å¼µæ©Ÿèƒ½**:
  - Python (Pylance, Python)
  - TypeScript/React
  - ESLint, Prettier
  - Docker
  - GitLens

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ãªã„å ´åˆ

```bash
# ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ­ã‚°ã‚’ç¢ºèª
docker logs <container_name>

# ã‚³ãƒ³ãƒ†ãƒŠã‚’å†ãƒ“ãƒ«ãƒ‰
docker-compose -f .devcontainer/docker-compose.yml down
docker-compose -f .devcontainer/docker-compose.yml build --no-cache
```

#### ãƒãƒ¼ãƒˆãŒä½¿ç”¨ä¸­ã®å ´åˆ

`.devcontainer/devcontainer.json`ã®`forwardPorts`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒãƒ¼ãƒˆã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# PostgreSQLã®çŠ¶æ…‹ã‚’ç¢ºèª
docker-compose -f .devcontainer/docker-compose.yml ps

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶š
docker-compose -f .devcontainer/docker-compose.yml exec postgres psql -U postgres -d inventoria
```

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### æ–°ã—ã„æ‹¡å¼µæ©Ÿèƒ½ã®è¿½åŠ 

`.devcontainer/devcontainer.json`ã®`extensions`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ ï¼š

```json
"extensions": [
  "ms-python.python",
  "your-extension-id"
]
```

#### ç’°å¢ƒå¤‰æ•°ã®è¿½åŠ 

`.devcontainer/docker-compose.yml`ã®`environment`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ ï¼š

```yaml
environment:
  - YOUR_ENV_VAR=value
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License