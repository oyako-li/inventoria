<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRコード在庫管理システム</title>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/qr-scanner/1.4.2/qr-scanner.umd.min.js"></script> -->
    <link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📦 在庫管理システム</h1>
            <p>QRコードをスキャンして在庫を自動管理</p>
        </div>
        
        <div class="tab-buttons">
            <button id="tabScanner" class="tab-btn active">📱 スキャナー</button>
            <button id="tabInventory" class="tab-btn">📋 在庫一覧</button>
        </div>
        
        <div class="main-content">
            <div class="scanner-section active">
                <h2 class="section-title">📱 QRコードスキャナー</h2>
                <video id="video" autoplay muted playsinline></video>
                <div class="scanner-controls">
                    <button id="startButton" class="btn">📷 カメラ開始</button>
                    <button id="stopButton" class="btn btn-danger" disabled>⏹️ 停止</button>
                </div>
                
                <div id="statusMessage"></div>
                
                <div class="form-group">
                    <label for="manualInput">手動入力（QRコード値）:</label>
                    <input type="text" id="manualInput" placeholder="手動でQRコード値を入力">
                </div>
                
                <div class="form-group">
                    <label for="actionType">処理タイプ:</label>
                    <select id="actionType">
                        <option value="in">入庫</option>
                        <option value="out">出庫</option>
                    </select>
                </div>

                <div class="form-group" id="supplierCodeGroup" style="display: none;">
                    <label for="supplierCode">仕入れ先コード:</label>
                    <input type="text" id="supplierCode" placeholder="仕入れ先コードを入力">
                </div>
                <div class="form-group" id="customerCodeGroup" style="display: none;">
                    <label for="customerCode">出荷先コード:</label>
                    <input type="text" id="customerCode" placeholder="出荷先コードを入力">
                </div>
                
                <div class="form-group">
                    <label for="quantity">数量:</label>
                    <input type="number" id="quantity" value="1" min="1">
                    <button id="manualSubmit" class="btn btn-success" style="margin-top: 10px;">保存する</button>
                </div>
            </div>
            
            <div class="inventory-section">
                <h2 class="section-title">📋 在庫一覧</h2>
                <div class="form-group">
                    <label for="productName">商品名:</label>
                    <input type="text" id="productName" placeholder="新商品名を入力">
                    <button id="addProduct" class="btn btn-success" style="margin-top: 10px;">➕ 商品追加</button>
                </div>
                
                <div id="statusMessage"></div>
                
                <table class="inventory-table">
                    <thead>
                        <tr>
                            <th>QRコード</th>
                            <th>商品名</th>
                            <th>在庫数</th>
                            <th>最終更新</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="inventoryTable">
                    </tbody>
                </table>
                
                <div style="margin-top: 20px; text-align: center;">
                    <button id="exportData" class="btn">💾 データエクスポート</button>
                    <button id="clearData" class="btn btn-danger">🗑️ データクリア</button>
                </div>
            </div>
        </div>
    </div>
    <!-- <script src="{{ url_for('static', path='qr-scanner-worker.min.js')}}"></script>
    <script src="{{ url_for('static', path='qr-scanner.umd.min.js')}}"></script> -->
    <script src="{{ url_for('static', path='index.js')}}"></script>
</body>
</html>